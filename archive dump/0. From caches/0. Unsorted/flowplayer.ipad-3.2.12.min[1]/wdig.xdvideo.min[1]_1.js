(function(){var b,j,t,s;function B(a,c){function d(){}d.prototype=a;var b=new d,f;for(f in c)b[f]=c[f];return b}function u(a,c){var d=function(){return d.method.apply(d.scope,arguments)};d.scope=a;d.method=c;return d}var q=function(){return h.Boot.__string_rec(this,"")},l=function(a,c){c=c.split("u").join("");this.r=RegExp(a,c)};l.__name__=!0;l.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:l};var v=function(){this.h=
{}};v.__name__=!0;v.prototype={keys:function(){var a=[],c;for(c in this.h)this.h.hasOwnProperty(c)&&a.push(c.substr(1));return i.iter(a)},get:function(a){return this.h["$"+a]},__class__:v};var i=function(){};i.__name__=!0;i.cca=function(a,c){var d=a.charCodeAt(c);return d!=d?void 0:d};i.substr=function(a,c,d){if(null!=c&&0!=c&&null!=d&&0>d)return"";null==d&&(d=a.length);0>c?(c=a.length+c,0>c&&(c=0)):0>d&&(d=a.length+d-c);return a.substr(c,d)};i.remove=function(a,c){for(var d=0,b=a.length;d<b;){if(a[d]==
c)return a.splice(d,1),!0;d++}return!1};i.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var r=function(){};r.__name__=!0;r.hasField=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};r.field=function(a,c){var d=null;try{d=a[c]}catch(b){}return d};r.getProperty=function(a,c){var d;return null==a?null:a.__properties__&&(d=a.__properties__["get_"+c])?a[d]():a[c]};var m=function(){};m.__name__=!0;m.string=
function(a){return h.Boot.__string_rec(a,"")};m.parseInt=function(a){var c=parseInt(a,10);if(0==c&&(120==i.cca(a,1)||88==i.cca(a,1)))c=parseInt(a);return isNaN(c)?null:c};var n=function(){};n.__name__=!0;n.urlEncode=function(a){return encodeURIComponent(a)};n.startsWith=function(a,c){return a.length>=c.length&&i.substr(a,0,c.length)==c};n.endsWith=function(a,c){var d=c.length,b=a.length;return b>=d&&i.substr(a,b-d,d)==c};n.isSpace=function(a,c){var d=i.cca(a,c);return 9<=d&&13>=d||32==d};n.rtrim=
function(a){for(var c=a.length,d=0;d<c&&n.isSpace(a,c-d-1);)d++;return 0<d?i.substr(a,0,c-d):a};var x,w,p,g;x=function(){};x.__name__=!0;x.trace=function(a,c){var d=null!=c&&null!=c.customParams?c.customParams[0]:null;"warn"!=d&&("info"!=d&&"debug"!=d&&"error"!=d)&&(d=null==c?"error":"log");console[d]((null==c?"":c.fileName+":"+c.lineNumber+" : ")+m.string(a))};w=function(a){this.url=a;this.headers=new v;this.params=new v;this.async=!0};w.__name__=!0;w.prototype={onStatus:function(){},onError:function(){},
onData:function(){},request:function(a){var c=this,d=new h.XMLHttpRequest,b=function(){if(4==d.readyState){var a;try{a=d.status}catch(b){a=null}void 0==a&&(a=null);if(null!=a)c.onStatus(a);if(null!=a&&200<=a&&400>a)c.onData(d.responseText);else switch(a){case null:case void 0:c.onError("Failed to connect or resolve host");break;case 12029:c.onError("Failed to connect to host");break;case 12007:c.onError("Unknown host");break;default:c.onError("Http Error #"+d.status)}}};this.async&&(d.onreadystatechange=
b);var f=this.postData;if(null!=f)a=!0;else for(var e=this.params.keys();e.hasNext();)var g=e.next(),f=null==f?"":f+"&",f=f+(n.urlEncode(g)+"="+n.urlEncode(this.params.get(g)));try{if(a)d.open("POST",this.url,this.async);else if(null!=f){var j=1>=this.url.split("?").length;d.open("GET",this.url+(j?"?":"&")+f,this.async);f=null}else d.open("GET",this.url,this.async)}catch(i){this.onError(i.toString());return}null==this.headers.get("Content-Type")&&(a&&null==this.postData)&&d.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)e=a.next(),d.setRequestHeader(e,this.headers.get(e));d.send(f);this.async||b()},__class__:w};p=function(){};p.__name__=!0;p.prototype={__class__:p};g=function(){};g.__name__=!0;g.trace=function(a,c){h.Boot.__trace(a,c)};var e={core:{}};e.core.SignalBase=function(a){this.slots=new e.core.PriorityQueue;this.target=a;this.isMuted=!1;h.Boot.__instanceof(a,e.core.SignalBase)||(this.onChanged=new e.Signal(this))};e.core.SignalBase.__name__=
!0;e.core.SignalBase.prototype={onFireSlot:function(a){-1!=a.remainingCalls&&0>=--a.remainingCalls&&this.remove(a.listener)},remove:function(a){for(var c=this.slots.iterator();c.hasNext();){var d=c.next();d.listener==a&&this.slots.remove(d)}},add:function(a,c,d){null==d&&(d=-1);null==c&&(c=0);this.remove(a);this.slots.add(new e.core.Slot(a,e.core.SignalType.NORMAL,d),c);this.onChanged.dispatch()},__class__:e.core.SignalBase};e.Signal=function(a){e.core.SignalBase.call(this,a)};e.Signal.__name__=!0;
e.Signal.__super__=e.core.SignalBase;e.Signal.prototype=B(e.core.SignalBase.prototype,{dispatch:function(){for(var a=this.slots.iterator();a.hasNext();){var c=a.next();if(this.isMuted)break;if(!c.isMuted){switch(c.type[1]){case 0:c.listener();break;case 1:c.listener(new e.core.Info(this,c));break;case 2:c.listener()}this.onFireSlot(c)}}},__class__:e.Signal});e.Signal1=function(a){e.core.SignalBase.call(this,a)};e.Signal1.__name__=!0;e.Signal1.__super__=e.core.SignalBase;e.Signal1.prototype=B(e.core.SignalBase.prototype,
{dispatch:function(a){for(var c=this.slots.iterator();c.hasNext();){var d=c.next();if(this.isMuted)break;if(!d.isMuted){switch(d.type[1]){case 0:d.listener(a);break;case 1:d.listener(a,new e.core.Info(this,d));break;case 2:d.listener()}this.onFireSlot(d)}}},__class__:e.Signal1});e.core.Info=function(a,c){this.target=a.target;this.signal=a;this.slot=c};e.core.Info.__name__=!0;e.core.Info.prototype={__class__:e.core.Info};e.core.PriorityQueue=function(){this.items=[]};e.core.PriorityQueue.__name__=
!0;e.core.PriorityQueue.prototype={getLength:function(){return this.items.length},remove:function(a){for(var c=0,d=this.items;c<d.length;){var b=d[c];++c;b.item==a&&i.remove(this.items,b)}},add:function(a,c){null==c&&(c=0);var d={item:a,priority:c};0>d.priority&&(d.priority=0);for(var b=this.items.length;0<b--&&!(this.items[b].priority>=c););this.items.splice(b+1,0,d);return d},iterator:function(){return this.currentIterator=new e.core.PriorityQueueIterator(this.items)},__class__:e.core.PriorityQueue};
e.core.PriorityQueueIterator=function(a){this.q=a.slice();this.reset()};e.core.PriorityQueueIterator.__name__=!0;e.core.PriorityQueueIterator.prototype={next:function(){return this.q[this.i++].item},hasNext:function(){return this.i<this.q.length},reset:function(){this.i=0},__class__:e.core.PriorityQueueIterator};e.core.SignalType={__ename__:!0,__constructs__:["NORMAL","ADVANCED","VOID"]};e.core.SignalType.NORMAL=["NORMAL",0];e.core.SignalType.NORMAL.toString=q;e.core.SignalType.NORMAL.__enum__=e.core.SignalType;
e.core.SignalType.ADVANCED=["ADVANCED",1];e.core.SignalType.ADVANCED.toString=q;e.core.SignalType.ADVANCED.__enum__=e.core.SignalType;e.core.SignalType.VOID=["VOID",2];e.core.SignalType.VOID.toString=q;e.core.SignalType.VOID.__enum__=e.core.SignalType;e.core.Slot=function(a,c,d){this.listener=a;this.type=c;this.remainingCalls=d;this.isMuted=!1};e.core.Slot.__name__=!0;e.core.Slot.prototype={__class__:e.core.Slot};var h={Boot:function(){}};h.Boot.__name__=!0;h.Boot.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};
h.Boot.__trace=function(a,c){var d=null!=c?c.fileName+":"+c.lineNumber+": ":"",d=d+h.Boot.__string_rec(a,""),b;"undefined"!=typeof document&&null!=(b=document.getElementById("haxe:trace"))?b.innerHTML+=h.Boot.__unhtml(d)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(d)};h.Boot.__string_rec=function(a,c){if(null==a)return"null";if(5<=c.length)return"<...>";var d=typeof a;if("function"==d&&(a.__name__||a.__ename__))d="object";switch(d){case "object":if(a instanceof Array){if(a.__enum__){if(2==
a.length)return a[0];for(var d=a[0]+"(",c=c+"\t",b=2,f=a.length;b<f;)var e=b++,d=2!=e?d+(","+h.Boot.__string_rec(a[e],c)):d+h.Boot.__string_rec(a[e],c);return d+")"}b=a.length;d="[";c+="\t";for(f=0;f<b;)e=f++,d+=(0<e?",":"")+h.Boot.__string_rec(a[e],c);return d+"]"}try{f=a.toString}catch(g){return"???"}if(null!=f&&f!=Object.toString&&(d=a.toString(),"[object Object]"!=d))return d;f=null;d="{\n";c+="\t";b=null!=a.hasOwnProperty;for(f in a)if(!b||a.hasOwnProperty(f))"prototype"==f||("__class__"==f||
"__super__"==f||"__interfaces__"==f||"__properties__"==f)||(2!=d.length&&(d+=", \n"),d+=c+f+" : "+h.Boot.__string_rec(a[f],c));c=c.substring(1);return d+="\n"+c+"}";case "function":return"<function>";case "string":return a;default:return String(a)}};h.Boot.__interfLoop=function(a,c){if(null==a)return!1;if(a==c)return!0;var b=a.__interfaces__;if(null!=b)for(var k=0,f=b.length;k<f;){var e=k++,e=b[e];if(e==c||h.Boot.__interfLoop(e,c))return!0}return h.Boot.__interfLoop(a.__super__,c)};h.Boot.__instanceof=
function(a,c){try{if(a instanceof c)return c==Array?null==a.__enum__:!0;if(h.Boot.__interfLoop(a.__class__,c))return!0}catch(b){if(null==c)return!1}switch(c){case E:return Math.ceil(a%2147483648)===a;case C:return"number"==typeof a;case D:return!0===a||!1===a;case String:return"string"==typeof a;case F:return!0;default:if(null==a)return!1;if(c==G&&null!=a.__name__)return!0;null;if(c==H&&null!=a.__ename__)return!0;null;return a.__enum__==c}};h.Lib=function(){};h.Lib.__name__=!0;j=function(){var a=
h.Lib.window;this.userAgent=a.navigator.userAgent;this.isSafariNotChrome=(new l("Safari","i")).match(this.userAgent)&&!1==(new l("Chrome","i")).match(this.userAgent);this.isiPad=(new l("iPad","i")).match(this.userAgent);this.isiPod=(new l("iPod","i")).match(this.userAgent);this.isiPhone=(new l("iPhone","i")).match(this.userAgent);this.isAndroid=(new l("Android","i")).match(this.userAgent);this.isChrome=(new l("Chrome","i")).match(this.userAgent);this.isFirefox=(new l("Firefox","i")).match(this.userAgent);
this.isIE=(new l("MSIE","i")).match(this.userAgent);this.clickBinding=(this.isTouch=(this.isiOS=this.isiPad||this.isiPhone||this.isiPod)||this.isAndroid)?"touchstart":"click";this.screenHeight=this.screenWidth=a.screen.width;this.isPhone=360>this.screenHeight;this.isTablet=360<=this.screenHeight&&768>=this.screenHeight;this.isDesktop=768<this.screenHeight;"undefined"===typeof console&&(console={log:function(){},debug:function(){},warn:function(){},error:function(){},info:function(){}});this.hasHTML5VideoCapability=
!!document.createElement("video").canPlayType;this.flashPlayerVersion="undefined"===typeof swfobject?-1:swfobject.getFlashPlayerVersion();this.canStream=this.hasFlashPlayerCapability=10==this.flashPlayerVersion.major&&2<=this.flashPlayerVersion.minor?!0:10<this.flashPlayerVersion.major?!0:!1};s=t=void 0;q=window;p=["wdig","honeypot","Capabilities"];for(var z=0;z<p.length-1;++z){var A=p[z];"undefined"==typeof q[A]&&(q[A]={});q=q[A]}q[p[p.length-1]]=j;j.__name__=!0;j.__properties__={get_capabilities:"get_capabilities"};
j.get_capabilities=function(){null==j._capabilities&&(j._capabilities=new j);return j._capabilities};j.prototype={checkCanPlay:function(a,c,b){return"true"==a||c&&"probably"==a||b&&"maybe"==a},canPlay_h264_baseline_video:function(a,c){null==c&&(c=!1);null==a&&(a=!0);if(!this.hasHTML5VideoCapability)return!1;var b=document.createElement("video").canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"');return this.checkCanPlay(b,a,c)},__class__:j};t=function(a,c){this.name=a;this.value=c};t.__name__=
!0;t.prototype={__class__:t};s=function(){};s.__name__=!0;s.parseQueryParams=function(a){for(var a=n.startsWith(a,"?")?i.substr(a,1,null):a,a=n.endsWith(a,"&")?i.substr(a,0,a.length-1):a,a=a.split("&"),c=0,b={},k;0<a.length;)k=a.pop(),-1!=k.indexOf("=")&&(k=k.split("="),b[k[0]]=k[1],c++);b.length=c;return b};s.prototype={__class__:s};b={Main:function(){}};b.Main.__name__=!0;b.Main.main=function(){try{b.Main.checkScriptDepenencies()}catch(a){if(h.Boot.__instanceof(a,String)){g.trace("Error setting up - missing one or more JS script dependencies",
{fileName:"Main.hx",lineNumber:28,className:"wdig.xdvideo.standalone.Main",methodName:"main",customParams:["error"]});g.trace(a,{fileName:"Main.hx",lineNumber:29,className:"wdig.xdvideo.standalone.Main",methodName:"main",customParams:["error"]});return}throw a;}g.trace=function(a,b){var k=null!=b&&null!=b.customParams?b.customParams[0]:null;"warn"!=k&&("info"!=k&&"debug"!=k&&"error"!=k)&&(k=null==b?"error":"log");("info"==k||"error"==k||"warning"==k)&&x.trace(a,b)};(new jQuery("#installFlash")).hide();
new jQuery(function(){var a=j.get_capabilities(),d=a.hasFlashPlayerCapability,k=a.hasHTML5VideoCapability,a=a.canPlay_h264_baseline_video(!0,a.isAndroid&&!a.isChrome);if(!d)if(k&&a)g.trace("Flash not available, but HTML5 video is available",{fileName:"Main.hx",lineNumber:67,className:"wdig.xdvideo.standalone.Main",methodName:"main",customParams:["info"]});else{g.trace("XDVideo Standalone "+b.Version.toString(),{fileName:"Main.hx",lineNumber:69,className:"wdig.xdvideo.standalone.Main",methodName:"main",
customParams:["info"]});g.trace("Flash not installed (or is too old) and HTML5 video is not available. Showing the #installFlash message",{fileName:"Main.hx",lineNumber:70,className:"wdig.xdvideo.standalone.Main",methodName:"main",customParams:["info"]});(new jQuery("#installFlash")).show();return}new b.XDVideo(b.Main.getScriptSrcParameters())})};b.Main.getParameter=function(a,c){for(var b=0,k=c.length;b<k;){var e=b++;if(c[e].name==a)return c[e].value}return null};b.Main.getScriptSrcParameters=function(a){null==
a&&(a="wdig_xdvideo");for(var a=(new jQuery("script[data*="+a+"]")).attr("src"),a=i.substr(a,a.indexOf("?")+1,null).split("&"),c,b=[],k=0,e=a.length;k<e;){var g=k++;c=a[g].split("=");b[g]=new t(c[0],c[1])}return b};b.Main.checkScriptDepenencies=function(){"undefined"===typeof console&&(console={log:function(){},debug:function(){},warn:function(){},error:function(){},info:function(){}});var a=!1;if(a="undefined"===typeof window.jQuery)throw"jQuery not found";if(a="undefined"===typeof window.jQuery.address)throw"jQuery.address not found";
(a="undefined"===typeof window.org)||(a="undefined"===typeof window.org.strobemediaplayback);if(a)throw"org.strobemediaplayback not found";if(a="undefined"===typeof window.swfobject)throw"SWFObject not found";if(a="undefined"===typeof window.EMEAOmniturePrefix)throw"emeaOmniture not found";};b.Version=function(){};b.Version.__name__=!0;b.Version.toString=function(){return b.Version.Major+"."+b.Version.Minor+"."+b.Version.Build+"."+b.Version.Revision};b.XDVideo=function(a){this.scriptQueryParameters=
a;b.Main.isDebug=b.Main.isDebug||"true"==b.Main.getParameter("debug",a)||"?debug=true"==h.Lib.window.location.search;g.trace("XDVideo Standalone "+b.Version.toString(),{fileName:"XDVideo.hx",lineNumber:68,className:"wdig.xdvideo.standalone.XDVideo",methodName:"new",customParams:["info"]});jqplugins.address.JQueryAddress.history(!1);this.loadConfig()};b.XDVideo.__name__=!0;b.XDVideo.prototype={handlePlayControlEvent:function(a){switch(a.type){case b.event.PlayControlEvent.PRE_REQUEST:this.onVideoComplete.dispatch();
break;case b.event.PlayControlEvent.PLAY_REQUESTED:case b.event.PlayControlEvent.PLAY_NEXT:case b.event.PlayControlEvent.PLAY_PREV:this.player.loadAndPlay(a.data);break;case b.event.PlayControlEvent.PLAY_REQUEST_DENIED:g.trace(a.data,{fileName:"XDVideo.hx",lineNumber:244,className:"wdig.xdvideo.standalone.XDVideo",methodName:"handlePlayControlEvent",customParams:["info"]});break;case b.event.PlayControlEvent.CONTENT_ID_ERROR:g.trace(a.data,{fileName:"XDVideo.hx",lineNumber:246,className:"wdig.xdvideo.standalone.XDVideo",
methodName:"handlePlayControlEvent",customParams:["warn"]})}},handlePlayerProxyEvent:function(a){switch(a.type){case b.event.PlayerProxyEvent.Ready:this.player.proxyReady=!0;this.player.playPending&&this.player.playPendingItem();break;case b.event.PlayerProxyEvent.LoadedMetadata:j.get_capabilities().isiOS&&(this.player.proxy.currentTime=0);break;case b.event.PlayerProxyEvent.Play:this.lastPlayedItem!=this.playController.currentItem&&(this.onPlayUpdate.dispatch(this.playController.currentItem),this.lastPlayedItem=
this.playController.currentItem);break;case b.event.PlayerProxyEvent.AdStart:this.playController.playingAd=!0;this.onAdPlay.dispatch(!0);break;case b.event.PlayerProxyEvent.AdStop:this.playController.playingAd=!1;this.onAdPlay.dispatch(!1);break;case b.event.PlayerProxyEvent.Complete:if(this.onVideoComplete.dispatch(),this.playController.continuousPlay){this.trackingManager.handlePlayerEvent(a);this.playController.next();return}}this.trackingManager.handlePlayerEvent(a)},jsReady:function(){try{"undefined"===
typeof window.wdig&&(window.wdig={}),window.wdig.XDVideo=this,window.wdig_xdvideo_ready(this)}catch(a){g.trace("Error accessing function window.wdig_xdvideo_ready",{fileName:"XDVideo.hx",lineNumber:186,className:"wdig.xdvideo.standalone.XDVideo",methodName:"jsReady",customParams:["error"]})}},prepareContainers:function(){var a=this;this.videoContainer=(new jQuery("#"+this.config.videoContainerId)).empty().html('<div id="strobemediaplayback"><div id="strobemediaplayback-video"></div></div>').css("margin",
"0").css("overflow","hidden");if(this.videoContainer.hasClass("xdResponsive")||this.config.player.responsive){g.trace("Setting up for responsive layout...",{fileName:"XDVideo.hx",lineNumber:157,className:"wdig.xdvideo.standalone.XDVideo",methodName:"prepareContainers",customParams:["info"]});var c=this.config.player.width/this.config.player.height;(new jQuery(h.Lib.window)).bind("resize",function(){var b=a.videoContainer.width(),e=b/c|0;a.videoContainer.css("height",e+"px");a.player.resize(b,e)})}this.playlistContainer=
new jQuery("#"+this.config.playlistContainerId);this.hasPlaylistUI=0<this.playlistContainer.length},initialise:function(){b.Main.isDebug&&jqplugins.address.JQueryAddress.title("XDVideo 'tachikoma' debug");this.config=new b.model.Config(this.data.config,b.Main.getParameter("videoContainerId",this.scriptQueryParameters),b.Main.getParameter("playlistContainerId",this.scriptQueryParameters));g.trace("playerName = "+this.config.player.name,{fileName:"XDVideo.hx",lineNumber:112,className:"wdig.xdvideo.standalone.XDVideo",
methodName:"initialise",customParams:["info"]});this.prepareContainers();this.onAdPlay=new e.Signal1;this.onPlayUpdate=new e.Signal1;this.onVideoComplete=new e.Signal;this.playController=new b.controller.PlayController(u(this,this.handlePlayControlEvent));this.uiBinding=new b.view.UIBinding(this.config,this.playController);this.trackingManager=new b.controller.TrackingManager;this.trackingManager.init(this.config.player.name,this.playController);this.playController.init(this.config,b.model.playlist.Playlist.parsePlaylists(this.data.playlist,
this.config));this.uiBinding.init(this.onAdPlay,this.onPlayUpdate,this.onVideoComplete);this.player=new b.Player(this.config.player,this.playController.selectInitialItem(),u(this,this.handlePlayerProxyEvent));j.get_capabilities().canStream||(this.playController.selectInitialItem(),this.handlePlayControlEvent(new b.event.PlayControlEvent(b.event.PlayControlEvent.PLAY_REQUESTED,this.playController.currentItem)));this.jsReady();(new jQuery(h.Lib.window)).trigger("resize");this.onPlayUpdate.dispatch(this.playController.currentItem)},
loadConfig:function(){var a=this;this.configURL=b.Main.getParameter("config",this.scriptQueryParameters);if(null==this.configURL)throw"configURL was not set. unable to continue :(";var c=new w(this.configURL);c.onData=function(c){g.trace("Config JSON loaded OK",{fileName:"XDVideo.hx",lineNumber:90,className:"wdig.xdvideo.standalone.XDVideo",methodName:"loadConfig",customParams:["info"]});a.data=jQuery.parseJSON(c);a.initialise()};c.onError=function(a){g.trace("Config JSON load failed",{fileName:"XDVideo.hx",
lineNumber:95,className:"wdig.xdvideo.standalone.XDVideo",methodName:"loadConfig"});g.trace(a,{fileName:"XDVideo.hx",lineNumber:96,className:"wdig.xdvideo.standalone.XDVideo",methodName:"loadConfig",customParams:["error"]})};c.request(!1)},__class__:b.XDVideo};b.Player=function(a,c,d){this.proxyReady=this.playPending=!1;this.setAdaptiveExperienceConfiguratorRules();var e=$.fn.strobemediaplayback;e.defaults.swf=a.swfPath+"/xdPlayer_"+a.swfVersion+".swf";e.defaults.expressInstallSwfUrl=a.swfPath+"/expressInstall.swf";
e.defaults.minimumFlashPlayerVersion=a.useStageVideo?"10.2.0":"10.1.0";null==a.endImage&&(a.endImage=a.posterImage);var f=a.useStageVideo?"direct":"opaque";if(j.get_capabilities().isIE){var y=r.hasField(h.Lib.window,"mbpi")?r.field(h.Lib.window,"mbpi"):null;null!=y&&(r.hasField(y,"config")&&r.hasField(y.config,"wmodeOverrideForIE"))&&(f=y.config.wmodeOverrideForIE,g.trace("isIE==true and window.mbpi.config.wmodeOverrideForIE is set to: "+f,{fileName:"XDVideo.hx",lineNumber:287,className:"wdig.xdvideo.standalone.Player",
methodName:"new",customParams:["info"]}))}a={id:"xdPlayer_standalone_"+a.name,wmode:f,playerName:a.name,adXML:a.adXML,copyXML:a.copyXML,skin:a.skinXML,src:c,autoPlay:a.autoPlay,poster:a.posterImage,endOfVideoOverlay:a.endImage,width:a.width,height:a.height,controlBarMode:"docked",controlBarAutoHide:!0,playButtonOverlay:!0,enableStageVideo:a.useStageVideo};c={};f=h.Lib.window.location.search;null!=f&&(f=i.substr(f,1,null),c=e.parseQueryString(f));e=$;e.extend({},a,c);e=e("#strobemediaplayback-video").strobemediaplayback(a);
this.proxy=e[0];this.strobemediaplayback=e;e.strobemediaplaybackchrome(a);e=0;for(c=b.event.PlayerProxyEvent.activeEvents.length;e<c;)f=e++,(new jQuery(this.proxy)).bind(b.event.PlayerProxyEvent.activeEvents[f],function(a){d(a)});this.resize(a.width,a.height)};b.Player.__name__=!0;b.Player.prototype={resize:function(a,c){for(var b=0,e=["strobemediaplayback","strobemediaplayback-video"];b<e.length;){var f=e[b];++b;(new jQuery("#"+f)).css("width",a+"px").css("height",c+"px")}b=new jQuery("[id^=xdPlayer_standalone_]");
null!=b&&b.attr("width",a).attr("height",c)},playPendingItem:function(){this.playPending=!1;try{g.trace("Load and play: "+m.string(this.proxy.src),{fileName:"XDVideo.hx",lineNumber:383,className:"wdig.xdvideo.standalone.Player",methodName:"playPendingItem"}),this.proxy.load(),this.proxy.play()}catch(a){g.trace("Error loading player content, player is not ready.",{fileName:"XDVideo.hx",lineNumber:387,className:"wdig.xdvideo.standalone.Player",methodName:"playPendingItem",customParams:["warn"]}),g.trace(a,
{fileName:"XDVideo.hx",lineNumber:388,className:"wdig.xdvideo.standalone.Player",methodName:"playPendingItem",customParams:["warn"]})}},loadAndPlay:function(a){this.proxy.src=a.media.src;this.proxyReady?this.playPendingItem():this.playPending=!0},setAdaptiveExperienceConfiguratorRules:function(){$.fn.adaptiveexperienceconfigurator.rules.push(function(a,c){if(a.isAndroid&&(a.isTablet||a.isPhone))a.setOption(c,"controlBarType",a.isTablet?"tablet":"smartphone")},function(a,c){if(a.isiPad||a.isiPhone)a.setOption(c,
"controlBarType",a.isTablet?"tablet":"smartphone"),a.setOption(c,"useHTML5","true"),a.setOption(c,"src","")})},__class__:b.Player};b.controller={};b.controller.PlayController=function(a){this._change=new e.Signal1;this._change.add(a)};b.controller.PlayController.__name__=!0;b.controller.PlayController.prototype={prevPlaylist:function(){this.currentPlaylistIndex--;if(0>this.currentPlaylistIndex)if(this._config.playlist.wrapAround)this.currentPlaylistIndex=this.playlists.length-1;else return this.currentPlaylistIndex=
0,!1;this.currentItemIndex=this.playlists[this.currentPlaylistIndex].items.length-1;return!0},nextPlaylist:function(){this.currentPlaylistIndex++;if(this.currentPlaylistIndex>=this.playlists.length)if(this._config.playlist.wrapAround)this.currentPlaylistIndex=0;else return this.currentPlaylistIndex--,!1;this.currentItemIndex=0;return!0},prev:function(){this.playAllowed()&&(this.currentItemIndex--,0>this.currentItemIndex&&!this.prevPlaylist()?this.currentItemIndex=0:(this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.PRE_REQUEST,
this.currentItem)),this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.PLAY_PREV,this.getCurrentPlaylistItem()))))},next:function(){this.playAllowed()&&(this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.PRE_REQUEST,this.currentItem)),this.currentItemIndex++,this.currentItemIndex>=this.playlists[this.currentPlaylistIndex].items.length&&!this.nextPlaylist()?this.currentItemIndex--:(this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.PRE_REQUEST,
this.currentItem)),this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.PLAY_NEXT,this.getCurrentPlaylistItem()))))},handleExternalChange:function(){this.playAllowed()?this.requestContentById(h.Lib.window.location.hash):null!=this.currentItem&&jqplugins.address.JQueryAddress.path(this._config.page.videoParameter+"/"+this.currentItem.urlId)},findPlaylistItem:function(a){var c=0;if((new l("^[0-9]+","g")).match(a)){c=m.parseInt(a);if(0<=c&&c<this.playlists.length)return g.trace("Playlist found at index "+
c+" (from urlId:"+a+")",{fileName:"PlayController.hx",lineNumber:185,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"findPlaylistItem"}),g.trace("Selecting first video in playlist '"+this.playlists[c].urlId+"'",{fileName:"PlayController.hx",lineNumber:186,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"findPlaylistItem"}),new b.model.playlist.PlayInfo(this.playlists[c].items[0],c,0);g.trace("No playlist available at "+c+" (from urlId:"+a+")",{fileName:"PlayController.hx",
lineNumber:189,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"findPlaylistItem",customParams:["warn"]});return null}var d=null,e=null,c=this.currentPlaylistIndex,d=this.playlists[c];if(null!=d)for(var f=0,h=d.items.length;f<h;){var j=f++,e=d.items[j];if(e.urlId==a)return g.trace("Found '"+a+"' in the current playlist",{fileName:"PlayController.hx",lineNumber:205,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"findPlaylistItem"}),new b.model.playlist.PlayInfo(e,
c,j)}f=0;for(h=this.playlistCount;f<h;){c=f++;d=this.playlists[c];if(d.urlId==a)return g.trace("Playlist found with matching name urlId "+a+", selecting first video in playlist "+d.urlId,{fileName:"PlayController.hx",lineNumber:217,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"findPlaylistItem"}),new b.model.playlist.PlayInfo(d.items[0],c,0);for(var i=0,n=d.items.length;i<n;)if(j=i++,e=d.items[j],e.urlId==a)return g.trace("Playlist found with matching name urlId "+a+", selecting first video in playlist "+
d.urlId,{fileName:"PlayController.hx",lineNumber:224,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"findPlaylistItem"}),new b.model.playlist.PlayInfo(e,c,j)}return null},playAllowed:function(){return this.playingAd&&this._config.page.adsDisableUI?(this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.PLAY_REQUEST_DENIED,"PlayController::requestContentById - Can't play anything right now, I'm playing an ad")),!1):!0},requestContentById:function(a){if(null==
a||null==b.model.Util.urlIdFromURL(a))this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.CONTENT_ID_ERROR,"PlayController::requestContentById - urlId is null, unable to request content"));else if(this.playAllowed()){var a=b.model.Util.urlIdFromURL(a),c=this.findPlaylistItem(a);null!=c?(g.trace("found playlist item at "+c.currentPlaylistIndex+","+c.currentItemIndex,{fileName:"PlayController.hx",lineNumber:137,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"requestContentById"}),
this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.PRE_REQUEST,this.currentItem)),this.currentItem=c.currentItem,this.currentPlaylistIndex=c.currentPlaylistIndex,this.currentItemIndex=c.currentItemIndex,this.itemCount=this.playlists[this.currentPlaylistIndex].items.length,b.model.playlist.Media.processMediaURL(this.currentItem.media),this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.PLAY_REQUESTED,this.currentItem))):this._change.dispatch(new b.event.PlayControlEvent(b.event.PlayControlEvent.CONTENT_ID_ERROR,
"Content '"+a+"' not found in playlists"))}},getCurrentPlaylist:function(){return-1<this.currentPlaylistIndex&&this.currentPlaylistIndex<this.playlists.length?this.playlists[this.currentPlaylistIndex]:null},getCurrentPlaylistItem:function(){if(-1==this.currentPlaylistIndex||-1==this.currentItemIndex)this.currentPlaylistIndex=this._config.playlist.defaultContent,this.itemCount=this.playlists[this.currentPlaylistIndex].items.length,this.currentItemIndex=0,g.trace("getCurrentPlaylistItem:: Playlist not set. Defaulting to first item in the 'defaultContent' playlist ("+
this.currentPlaylistIndex+")",{fileName:"PlayController.hx",lineNumber:103,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"getCurrentPlaylistItem"});this.currentItem=this.playlists[this.currentPlaylistIndex].items[this.currentItemIndex];b.model.playlist.Media.processMediaURL(this.currentItem.media);g.trace("getCurrentPlaylistItem "+this.currentItem.urlId+" ["+this.currentPlaylistIndex+","+this.currentItemIndex+"]",{fileName:"PlayController.hx",lineNumber:109,className:"wdig.xdvideo.standalone.controller.PlayController",
methodName:"getCurrentPlaylistItem"});return this.currentItem},selectInitialItem:function(){var a=null,c=h.Lib.window.location.href,d=b.model.Util.urlIdFromURL(c);d!=c&&(a=this.findPlaylistItem(d));null==a&&(g.trace("No valid deeplink found, using default playlist",{fileName:"PlayController.hx",lineNumber:80,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"selectInitialItem"}),a=new b.model.playlist.PlayInfo(null,this._config.playlist.defaultContent,0));this.currentItem=a.currentItem;
this.currentItemIndex=a.currentItemIndex;this.currentPlaylistIndex=a.currentPlaylistIndex;this.itemCount=this.playlists[this.currentPlaylistIndex].items.length;g.trace("selectInitialItem contentURL: "+this.getCurrentPlaylistItem().media.src,{fileName:"PlayController.hx",lineNumber:89,className:"wdig.xdvideo.standalone.controller.PlayController",methodName:"selectInitialItem"});return this.getCurrentPlaylistItem().media.src},init:function(a,c){this._config=a;this.playlists=c;this.continuousPlay=this._config.playlist.continuousPlay;
this.playlistCount=c.length;this.currentPlaylistIndex=this.currentItemIndex=-1;a.page.monitorAddress&&(a.page.useHistory&&jqplugins.address.JQueryAddress.history(!0),jqplugins.address.JQueryAddress.externalChange(u(this,this.handleExternalChange)))},__class__:b.controller.PlayController};b.controller.TrackingManager=function(){this.currentItem=null;this.playPending=this.mediaPlaying=this.mediaOpen=!1};b.controller.TrackingManager.__name__=!0;b.controller.TrackingManager.prototype={play:function(a){this.mediaPlaying||
(this.playPending=!1,this.mediaPlaying=!0,this.fn_flashCall_mediaPlay(this.currentItem.analyticsAssetName,a,"video"))},stop:function(a){this.mediaOpen&&this.mediaPlaying&&(this.mediaPlaying=this.playPending=!1,this.fn_flashCall_mediaStop(this.currentItem.analyticsAssetName,a,"video"))},close:function(a){this.stop(a.target.currentTime);this.mediaOpen&&this.fn_flashCall_mediaClose(this.currentItem.analyticsAssetName);this.mediaOpen=this.mediaPlaying=this.playPending=!1;this.currentItem=null},open:function(a){this.fn_flashCall_mediaOpen(this.currentItem.analyticsAssetName,
a,this.playerName)},handlePlayerEvent:function(a){if(this.playController.playingAd)null!=this.currentItem&&this.close(a);else if(null==this.currentItem&&a.type==b.event.PlayerProxyEvent.Play&&(this.currentItem=this.playController.currentItem),null!=this.currentItem)if(this.currentItem.urlId!=this.playController.currentItem.urlId)this.close(a),this.currentItem=this.playController.currentItem;else{var c=a.target;switch(a.type){case b.event.PlayerProxyEvent.LoadedMetadata:!Math.isNaN(c.duration)&&Math.isFinite(c.duration)&&
(this.mediaOpen=!0,this.open(c.duration),this.playPending&&this.play(0));break;case b.event.PlayerProxyEvent.Play:this.mediaOpen&&!c.paused&&!c.seeking?this.play(c.currentTime):this.playPending=!0;break;case b.event.PlayerProxyEvent.Pause:case b.event.PlayerProxyEvent.Seeking:this.stop(c.currentTime);break;case b.event.PlayerProxyEvent.Seeked:this.playPending&&this.play(c.currentTime);break;case b.event.PlayerProxyEvent.Complete:this.close(a)}}},init:function(a,c){this.playerName=a;this.playController=
c;this.fn_flashCall_mediaOpen=flashCall_mediaOpen;this.fn_flashCall_mediaPlay=flashCall_mediaPlay;this.fn_flashCall_mediaStop=flashCall_mediaStop;this.fn_flashCall_mediaClose=flashCall_mediaClose},__class__:b.controller.TrackingManager};b.event={};b.event.PlayControlEvent=function(a,c){this.type=a;this.data=c};b.event.PlayControlEvent.__name__=!0;b.event.PlayControlEvent.prototype={__class__:b.event.PlayControlEvent};b.event.PlayerProxyEvent=function(){};b.event.PlayerProxyEvent.__name__=!0;b.model=
{};b.model.Config=function(a,c,d,e){null==e&&(e=!1);if(!e){if(null==c||0==c.length||0==(new jQuery("#"+c)).length)throw"'videoContainerId' parameter was not set or the element referenced does not exist. It should be passed in on the <script> src attribute's querystring";if(null==d||0==d.length||0==(new jQuery("#"+d)).length)d=null,g.trace("'playlistContainerId' parameter was not set or does not exist in the page mark-up. playlist ui not available. if needed, it should be passed in on the <script> src attribute's querystring",
{fileName:"Config.hx",lineNumber:36,className:"wdig.xdvideo.standalone.model.Config",methodName:"new",customParams:["info"]})}a.player.autoPlay=a.playlist.autoPlay;this.player=new b.model.PlayerConfig(a.player);this.playlist=new b.model.PlaylistConfig(a.playlist);this.page=new b.model.PageConfig(a.page);this.selectors=new b.view.UISelectors(a.selectors);this.videoContainerId=c;this.playlistContainerId=d;this.playlistOuterContainerId=d+this.selectors.playlistOuterName};b.model.Config.__name__=!0;b.model.Config.prototype=
{__class__:b.model.Config};b.model.PlayerConfig=function(a){this.name=a.name;this.width=m.parseInt(a.width);this.height=m.parseInt(a.height);this.swfPath=a.swfPath;this.swfVersion=a.swfVersion;this.adXML=a.adXML;this.skinXML=a.skinXML;this.copyXML=a.copyXML;this.posterImage=a.posterImage;this.endImage=a.endImage;this.useStageVideo=a.useStageVideo;this.autoPlay=a.autoPlay;this.responsive=!0==a.responsive};b.model.PlayerConfig.__name__=!0;b.model.PlayerConfig.prototype={__class__:b.model.PlayerConfig};
b.model.PlaylistConfig=function(a){this.defaultContent=null==a.defaultContent?0:m.parseInt(a.defaultContent);this.defaultThumb=a.defaultThumb;this.defaultItemThumb=a.defaultItemThumb;this.continuousPlay=a.continuousPlay;this.autoPlay=a.autoPlay;this.wrapAround=a.wrapAround};b.model.PlaylistConfig.__name__=!0;b.model.PlaylistConfig.prototype={__class__:b.model.PlaylistConfig};b.model.PageConfig=function(a){this.pageTitle=a.pageTitle;this.pageTitleGlue=a.pageTitleGlue;this.videoParameter=a.videoParameter;
this.scrollsToVideo=a.scrollsToVideo;this.scrollsToVideoOnPlaylistClick=a.scrollsToVideoOnPlaylistClick;this.adsDisableUI=a.adsDisableUI;this.setPageTitle=a.setPageTitle;this.useHistory=a.useHistory;this.monitorAddress=a.monitorAddress};b.model.PageConfig.__name__=!0;b.model.PageConfig.prototype={__class__:b.model.PageConfig};b.model.Util=function(){};b.model.Util.__name__=!0;b.model.Util.urlIdFromURL=function(a,c){null==c&&(c="video");var b=null,b=a.indexOf("#/"+c+"/"),e=a.indexOf("?"),e=-1==e?null:
s.parseQueryParams(i.substr(a,e,null));-1!=b?(b=a.split("/"),b=b[b.length-1]):null!=e&&r.hasField(e,c)?b=r.getProperty(e,c):(g.trace("urlIdFromURL :: no video param found on value: "+a,{fileName:"Util.hx",lineNumber:29,className:"wdig.xdvideo.standalone.model.Util",methodName:"urlIdFromURL"}),b=null);return b};b.model.playlist={};b.model.playlist.Media=function(a){this.src=null;this.stream=new b.model.playlist.Stream(a.stream);this.progressive=a.progressive};b.model.playlist.Media.__name__=!0;b.model.playlist.Media.processMediaURL=
function(a){g.trace("processMediaURL - canStream ? "+m.string(j.get_capabilities().canStream),{fileName:"Media.hx",lineNumber:30,className:"wdig.xdvideo.standalone.model.playlist.Media",methodName:"processMediaURL"});if(!j.get_capabilities().canStream)return a.src=a.progressive+"",a.src;if(null!=a.src&&0<a.src.length)return a.src;var b=null,d=a.stream.server+"",e=a.stream.program+"";if(null!=d&&0<d.length&&null!=e&&0<e.length){var f=e.split("."),h=0<f.length?f[0]:"",f=1<f.length?f[1]:"";if("flv"==
f)b=d+"/"+h;else if("mp4"==f||"f4v"==f||"mov"==f||"m4v"==f||"mp4v"==f)b=d+"/mp4:"+e}else g.trace("processMediaURL: content only has progressive src",{fileName:"Media.hx",lineNumber:57,className:"wdig.xdvideo.standalone.model.playlist.Media",methodName:"processMediaURL"}),b=a.progressive+"";null==b?g.trace("processMediaURL: failed to find any media for this item!",{fileName:"Media.hx",lineNumber:62,className:"wdig.xdvideo.standalone.model.playlist.Media",methodName:"processMediaURL"}):g.trace("processMediaURL: "+
b,{fileName:"Media.hx",lineNumber:64,className:"wdig.xdvideo.standalone.model.playlist.Media",methodName:"processMediaURL"});return a.src=b};b.model.playlist.Media.prototype={__class__:b.model.playlist.Media};b.model.playlist.Stream=function(a){this.server=a.server;this.program=a.program};b.model.playlist.Stream.__name__=!0;b.model.playlist.Stream.prototype={__class__:b.model.playlist.Stream};b.model.playlist.PlayInfo=function(a,b,d){this.currentItem=a;this.currentPlaylistIndex=b;this.currentItemIndex=
d};b.model.playlist.PlayInfo.__name__=!0;b.model.playlist.PlayInfo.prototype={__class__:b.model.playlist.PlayInfo};b.model.playlist.Playlist=function(a,c){this.title=a.title;this.urlId=a.urlId;this.thumbnailImage=a.thumbnailImage;this.thumbnailAlt=a.thumbnailAlt;if(null==this.thumbnailImage||0==this.thumbnailImage.length)this.thumbnailImage=c.playlist.defaultThumb;this.items=b.model.playlist.PlaylistItem.parseItems(a.items,c)};b.model.playlist.Playlist.__name__=!0;b.model.playlist.Playlist.parsePlaylists=
function(a,c){if(!h.Boot.__instanceof(a,Array)||0==a.length)return null;for(var d=[],e=0,f=a.length;e<f;){var g=e++;d[g]=new b.model.playlist.Playlist(a[g],c)}return d};b.model.playlist.Playlist.prototype={__class__:b.model.playlist.Playlist};b.model.playlist.PlaylistItem=function(a,c){null!=a.videoPath&&(a=a.videoPath);this.media=new b.model.playlist.Media(a.media);this.urlId=a.urlId;this.analyticsAssetName=a.analyticsAssetName;this.title=a.title;this.description=a.description;this.pageTitle=a.pageTitle;
this.thumbnailImage=a.thumbnailImage;this.thumbnailAlt=a.thumbnailAlt;if(null==this.thumbnailImage||0==this.thumbnailImage.length)this.thumbnailImage=c.playlist.defaultItemThumb};b.model.playlist.PlaylistItem.__name__=!0;b.model.playlist.PlaylistItem.parseItems=function(a,c){if(!h.Boot.__instanceof(a,Array)||0==a.length)return null;for(var d=[],e=0,f=a.length;e<f;){var g=e++;d[g]=new b.model.playlist.PlaylistItem(a[g],c)}return d};b.model.playlist.PlaylistItem.prototype={__class__:b.model.playlist.PlaylistItem};
b.view={};b.view.UIBinding=function(a,b){this.config=a;this.selectors=a.selectors;this.playController=b};b.view.UIBinding.__name__=!0;b.view.UIBinding.getOuterHTML=function(a){return(new jQuery("<p>")).append(a.eq(0).clone()).html()};b.view.UIBinding.prototype={onVideoComplete:function(){var a=this.getPlaylistItemElement();null!=a&&a.removeClass(this.selectors.playingClass)},onAdPlay:function(a){this.config.page.adsDisableUI&&(a?((new jQuery("#"+this.config.playlistOuterContainerId)).addClass(this.selectors.disabledClass),
(new jQuery("#"+this.config.playlistContainerId)).addClass(this.selectors.disabledClass),(new jQuery(this.selectors.playerNav)).addClass(this.selectors.disabledClass)):((new jQuery("#"+this.config.playlistOuterContainerId)).removeClass(this.selectors.disabledClass),(new jQuery("#"+this.config.playlistContainerId)).removeClass(this.selectors.disabledClass),(new jQuery(this.selectors.playerNav)).removeClass(this.selectors.disabledClass)))},getPlaylistItemElement:function(a){null==a&&(a=this.playController.currentItem);
return null!=a&&null!=this.config.playlistContainerId?(new jQuery("#"+this.config.playlistContainerId+" a[href$='"+a.urlId+"']")).last().parent():null},onPlayUpdate:function(a){var b=this.config.page;(new jQuery(this.selectors.nowWatching)).text(a.description);b.setPageTitle&&(n.endsWith(n.rtrim(a.pageTitle),b.pageTitleGlue)?jqplugins.address.JQueryAddress.title(a.pageTitle+" "+b.pageTitle):jqplugins.address.JQueryAddress.title(a.pageTitle+" "+b.pageTitleGlue+" "+b.pageTitle));b.useHistory&&jqplugins.address.JQueryAddress.path()!=
b.videoParameter+"/"+a.urlId&&jqplugins.address.JQueryAddress.path(b.videoParameter+"/"+a.urlId);this.config.playlist.wrapAround||(0==this.playController.currentPlaylistIndex&&0==this.playController.currentItemIndex?(new jQuery(this.selectors.playerNav+"."+this.selectors.playerNavPrevClass)).addClass(this.config.selectors.playerNavDisabledClass):this.playController.currentPlaylistIndex==this.playController.playlistCount-1&&this.playController.currentItemIndex==this.playController.getCurrentPlaylist().items.length-
1?(new jQuery(this.selectors.playerNav+"."+this.selectors.playerNavNextClass)).addClass(this.config.selectors.playerNavDisabledClass):((new jQuery(this.selectors.playerNav+"."+this.selectors.playerNavPrevClass)).removeClass(this.config.selectors.playerNavDisabledClass),(new jQuery(this.selectors.playerNav+"."+this.selectors.playerNavNextClass)).removeClass(this.config.selectors.playerNavDisabledClass)));a=this.getPlaylistItemElement(a);null!=a&&a.addClass(this.selectors.playingClass);b.scrollsToVideo&&
null!=this.selectors.scrollToTarget&&(new jQuery("html, body")).animate({scrollTop:(new jQuery(this.selectors.scrollToTarget)).offset().top},1E3)},processInlineElements:function(){var a=this,c=new jQuery("#"+this.config.playlistContainerId+" "+this.selectors.unprocessedPlaylistItem);g.trace("Processing "+c.length+" inline playlist items",{fileName:"UIBinding.hx",lineNumber:210,className:"wdig.xdvideo.standalone.view.UIBinding",methodName:"processInlineElements"});var d=this.selectors.unprocessedClass;
c.each(function(c,e){var g=(new jQuery(e)).removeClass(d).addClass("processedPlaylistItem"),h=g.attr("href");0!=h.indexOf("#")&&(h=b.model.Util.urlIdFromURL(h,a.config.page.videoParameter),null!=h?g.attr("href","#/"+a.config.page.videoParameter+"/"+h):g.data("error","Error setting href urlId hash"))})},processPlaylistTemplate:function(a){for(var a=a.find("[data='$playlistsWrapper']").removeAttr("data"),c=a.find("[data='$playlist']"),d=c.find("[data='$itemsWrapper']"),e=d.find("[data='$item']"),e=
b.view.UIBinding.getOuterHTML(e.remove()),d=b.view.UIBinding.getOuterHTML(d.remove()),c=b.view.UIBinding.getOuterHTML(c.remove()),f=this.playController.playlists,g=f.length,h="#/"+this.config.page.videoParameter+"/",j=0;j<g;){var i=j++,i=f[i],n=i.items.length,l=(new jQuery(c)).removeAttr("data");l.find("[data='$urlId']").removeAttr("data").attr("href","#/"+this.config.page.videoParameter+"/"+i.items[0].urlId);l.find("[data='$playlistTitle']").removeAttr("data").text(i.title);l.find("[data='$playlistThumb']").removeAttr("data").attr("src",
i.thumbnailImage).attr("alt",i.thumbnailAlt);for(var q=(new jQuery(d)).removeAttr("data"),r=0;r<n;){var m=r++,m=i.items[m],p=new jQuery(e);p.removeAttr("data").find("[data='$urlId']").removeAttr("data").attr("href",h+m.urlId);p.find("[data='$itemTitle']").removeAttr("data").text(m.title);p.find("[data='$itemDescription']").removeAttr("data").text(m.description);p.find("img[data='$itemThumb']").removeAttr("data").attr("src",m.thumbnailImage).attr("alt",m.thumbnailAlt);q.append(p)}a.append(l.append(q))}a=
(new jQuery("<div id="+this.config.playlistContainerId+">")).append(a);(new jQuery("#"+this.config.playlistContainerId)).replaceWith(a)},processPlaylistItems:function(){var a=new jQuery("#"+this.config.playlistContainerId),b=a.attr("data");a.removeAttr("data");"template"==b?(g.trace("processing playlist template",{fileName:"UIBinding.hx",lineNumber:113,className:"wdig.xdvideo.standalone.view.UIBinding",methodName:"processPlaylistItems",customParams:["debug"]}),this.processPlaylistTemplate(a)):(g.trace("processing inline playlist elements",
{fileName:"UIBinding.hx",lineNumber:116,className:"wdig.xdvideo.standalone.view.UIBinding",methodName:"processPlaylistItems",customParams:["debug"]}),this.processInlineElements())},bindControls:function(){var a=this;if(!(null==this.selectors.playerNav||0==this.selectors.playerNav.length)){var b=this.config.page;!b.scrollsToVideo&&(b.scrollsToVideoOnPlaylistClick&&null!=this.config.playlistContainerId&&null!=this.selectors.scrollToTarget)&&(new jQuery("#"+this.config.playlistContainerId+" a.processedPlaylistItem")).bind("click",
function(){a.playController.playingAd||(new jQuery("html, body")).animate({scrollTop:(new jQuery(a.selectors.scrollToTarget)).offset().top},1E3)});(new jQuery(this.selectors.playerNav+"."+this.selectors.playerNavNextClass)).bind(j.get_capabilities().clickBinding,function(b){b.preventDefault();b.stopPropagation();(new jQuery(b.target)).hasClass(a.config.selectors.playerNavDisabledClass)||a.playController.next()});(new jQuery(this.selectors.playerNav+"."+this.selectors.playerNavPrevClass)).bind(j.get_capabilities().clickBinding,
function(b){b.preventDefault();b.stopPropagation();(new jQuery(b.target)).hasClass(a.config.selectors.playerNavDisabledClass)||a.playController.prev()})}},init:function(a,b,d){a.add(u(this,this.onAdPlay));b.add(u(this,this.onPlayUpdate));d.add(u(this,this.onVideoComplete));null!=this.config.playlistContainerId&&this.processPlaylistItems();this.bindControls()},__class__:b.view.UIBinding};b.view.UISelectors=function(a){this.unprocessedPlaylistItem=a.unprocessedPlaylistItem;this.unprocessedClass=a.unprocessedClass;
this.playerNav=a.playerNav;this.playerNavPrevClass=a.playerNavPrevClass;this.playerNavNextClass=a.playerNavNextClass;this.playerNavDisabledClass=a.playerNavDisabledClass;this.nowWatching=a.nowWatching;this.disabledClass=a.disabledClass;this.playingClass=a.playingClass;this.scrollToTarget=a.scrollToTarget;this.playlistOuterName=null==a.playlistOuterName?"Outer":a.playlistOuterName};b.view.UISelectors.__name__=!0;b.view.UISelectors.prototype={__class__:b.view.UISelectors};Array.prototype.indexOf?i.remove=
function(a,b){var d=a.indexOf(b);if(-1==d)return!1;a.splice(d,1);return!0}:null;Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=String;String.__name__=!0;Array.prototype.__class__=Array;Array.__name__=!0;var E={__name__:["Int"]},F={__name__:["Dynamic"]},C=Number;C.__name__=["Float"];var D=Boolean;
D.__ename__=["Bool"];var G={__name__:["Class"]},H={};"undefined"!=typeof JSON&&(p=JSON);if(window.XMLHttpRequest)q=XMLHttpRequest;else{if(!window.ActiveXObject)throw"Unable to create XMLHttpRequest object.";q=function(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){throw"Unable to create XMLHttpRequest object.";}}}}h.XMLHttpRequest=q;"undefined"===typeof window.jqplugins&&(window.jqplugins={});window.jqplugins.address={JQueryAddress:window.jQuery.address};
"undefined"!=typeof document&&(h.Lib.document=document);"undefined"!=typeof window&&(h.Lib.window=window,h.Lib.window.onerror=function(a,b,d){var e=h.Lib.onerror;return null==e?!1:e(a,[b+":"+d])});b.Main.isDebug=!1;b.Version.Major=1;b.Version.Minor=0;b.Version.Build=4;b.Version.Revision=21;b.event.PlayControlEvent.CONTENT_ID_ERROR="content_id_error";b.event.PlayControlEvent.PRE_REQUEST="play_pre_request";b.event.PlayControlEvent.PLAY_NEXT="play_next";b.event.PlayControlEvent.PLAY_PREV="play_prev";
b.event.PlayControlEvent.PLAY_REQUESTED="play_requested";b.event.PlayControlEvent.PLAY_REQUEST_DENIED="play_request_denied";b.event.PlayerProxyEvent.Ready="ready";b.event.PlayerProxyEvent.AdStart="adStart";b.event.PlayerProxyEvent.AdStop="adStop";b.event.PlayerProxyEvent.Complete="complete";b.event.PlayerProxyEvent.Seeked="seeked";b.event.PlayerProxyEvent.Seeking="seeking";b.event.PlayerProxyEvent.LoadedMetadata="loadedmetadata";b.event.PlayerProxyEvent.Pause="pause";b.event.PlayerProxyEvent.Play=
"play";b.event.PlayerProxyEvent.activeEvents=[b.event.PlayerProxyEvent.Ready,b.event.PlayerProxyEvent.Complete,b.event.PlayerProxyEvent.LoadedMetadata,b.event.PlayerProxyEvent.Pause,b.event.PlayerProxyEvent.Play,b.event.PlayerProxyEvent.AdStart,b.event.PlayerProxyEvent.AdStop];b.Main.main()})();
