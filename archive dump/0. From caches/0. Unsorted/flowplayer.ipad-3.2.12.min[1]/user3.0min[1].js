var VideoStepLocalLso,vsswf=null,vs_read_flash_cookie=function(a){VideoStepLocalLso=a},vs_write_flash_cookie=function(a){vsswf&&"undefined"!=typeof vsswf&&"undefined"!=typeof a&&vsswf.writeCookie(a,!1)},set_vsswf_reference=function(a){vsswf=a.ref},vsJsonp=function(){function e(a,c){var e=document.createElement("script"),f=!1;e.src=a,e.async=!0;var g=c||d.error;"function"==typeof g&&(e.onerror=function(b){g({url:a,event:b})}),e.onload=e.onreadystatechange=function(){f||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(f=!0,e.onload=e.onreadystatechange=null,e&&e.parentNode&&e.parentNode.removeChild(e))},b||(b=document.getElementsByTagName("head")[0]),b.appendChild(e)}function f(a){return encodeURIComponent(a)}function g(b,g,h,i){var k,j=-1===(b||"").indexOf("?")?"?":"&";i=i||d.callbackName||"callback";var l=i+"_json"+ ++a;g=g||{};for(k in g)g.hasOwnProperty(k)&&(j+=f(k)+"="+f(g[k])+"&");return c[l]=function(a){h(a);try{delete c[l]}catch(b){}c[l]=null},e(b+j+i+"="+l),l}function h(a){d=a}var b,a=0,c=this,d={};return{get:g,init:h}}();!function(){function g(a,b,c){if(a.indexOf("&"+b+"=")>-1||0===a.indexOf(b+"=")){var e,f,d=a.indexOf("&"+b+"=");return-1===d&&(d=a.indexOf(b+"=")),e=a.indexOf("&",d+1),f=-1!==e?a.substr(0,d)+a.substr(e+(d?0:1))+"&"+b+"="+c:a.substr(0,d)+"&"+b+"="+c}return a+"&"+b+"="+c}function h(a,b,c){var d=new Date;d.setTime(d.getTime()+1e3*60*60*24*c);var e=b+(null==c?"":"; expires="+d.toUTCString());document.cookie=a+"="+e}function i(a){var b,c,d,e=document.cookie.split(";");for(b=0;b<e.length;b++)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c==a)return unescape(d);return null}var a="http://u.videostep.com/User/",b="VSStatCookie",c=function(){function B(){if(!u){try{var a=j.getElementsByTagName("body")[0].appendChild(R("span"));a.parentNode.removeChild(a)}catch(b){return}u=!0;for(var c=m.length,d=0;c>d;d++)m[d]()}}function C(a){u?a():m[m.length]=a}function D(b){if(typeof i.addEventListener!=a)i.addEventListener("load",b,!1);else if(typeof j.addEventListener!=a)j.addEventListener("load",b,!1);else if(typeof i.attachEvent!=a)S(i,"onload",b);else if("function"==typeof i.onload){var c=i.onload;i.onload=function(){c(),b()}}else i.onload=b}function E(){l?F():G()}function F(){var c=j.getElementsByTagName("body")[0],d=R(b);d.setAttribute("type",f);var e=c.appendChild(d);if(e){var g=0;!function(){if(typeof e.GetVariable!=a){var b=e.GetVariable("$version");b&&(b=b.split(" ")[1].split(","),z.pv=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)])}else if(10>g)return g++,setTimeout(arguments.callee,10),void 0;c.removeChild(d),e=null,G()}()}else G()}function G(){var b=n.length;if(b>0)for(var c=0;b>c;c++){var d=n[c].id,e=n[c].callbackFn,f={success:!1,id:d};if(z.pv[0]>0){var g=Q(d);if(g)if(!T(n[c].swfVersion)||z.wk&&z.wk<312)if(n[c].expressInstall&&I()){var h={};h.data=n[c].expressInstall,h.width=g.getAttribute("width")||"0",h.height=g.getAttribute("height")||"0",g.getAttribute("class")&&(h.styleclass=g.getAttribute("class")),g.getAttribute("align")&&(h.align=g.getAttribute("align"));for(var i={},j=g.getElementsByTagName("param"),k=j.length,l=0;k>l;l++)"movie"!=j[l].getAttribute("name").toLowerCase()&&(i[j[l].getAttribute("name")]=j[l].getAttribute("value"));J(h,i,d,e)}else K(g),e&&e(f);else V(d,!0),e&&(f.success=!0,f.ref=H(d),e(f))}else if(V(d,!0),e){var m=H(d);m&&typeof m.SetVariable!=a&&(f.success=!0,f.ref=m),e(f)}}}function H(c){var d=null,e=Q(c);if(e&&"OBJECT"==e.nodeName)if(typeof e.SetVariable!=a)d=e;else{var f=e.getElementsByTagName(b)[0];f&&(d=f)}return d}function I(){return!v&&T("6.0.65")&&(z.win||z.mac)&&!(z.wk&&z.wk<312)}function J(b,c,d,e){v=!0,s=e||null,t={success:!1,id:d};var f=Q(d);if(f){"OBJECT"==f.nodeName?(q=L(f),r=null):(q=f,r=d),b.id=g,(typeof b.width==a||!/%$/.test(b.width)&&parseInt(b.width,10)<310)&&(b.width="310"),(typeof b.height==a||!/%$/.test(b.height)&&parseInt(b.height,10)<137)&&(b.height="137"),j.title=j.title.slice(0,47)+" - Flash Player Installation";var h=z.ie&&z.win?"ActiveX":"PlugIn",k="MMredirectURL="+i.location.toString().replace(/&/g,"%26")+"&MMplayerType="+h+"&MMdoctitle="+j.title;if(typeof c.flashvars!=a?c.flashvars+="&"+k:c.flashvars=k,z.ie&&z.win&&4!=f.readyState){var l=R("div");d+="SWFObjectNew",l.setAttribute("id",d),f.parentNode.insertBefore(l,f),f.style.display="none",function(){4==f.readyState?f.parentNode.removeChild(f):setTimeout(arguments.callee,10)}()}M(b,c,d)}}function K(a){if(z.ie&&z.win&&4!=a.readyState){var b=R("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(L(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(L(a),a)}function L(a){var c=R("div");if(z.win&&z.ie)c.innerHTML=a.innerHTML;else{var d=a.getElementsByTagName(b)[0];if(d){var e=d.childNodes;if(e)for(var f=e.length,g=0;f>g;g++)1==e[g].nodeType&&"PARAM"==e[g].nodeName||8==e[g].nodeType||c.appendChild(e[g].cloneNode(!0))}}return c}function M(c,d,e){var g,h=Q(e);if(z.wk&&z.wk<312)return g;if(h)if(typeof c.id==a&&(c.id=e),z.ie&&z.win){var i="";for(var j in c)c[j]!=Object.prototype[j]&&("data"==j.toLowerCase()?d.movie=c[j]:"styleclass"==j.toLowerCase()?i+=' class="'+c[j]+'"':"classid"!=j.toLowerCase()&&(i+=" "+j+'="'+c[j]+'"'));var k="";for(var l in d)d[l]!=Object.prototype[l]&&(k+='<param name="'+l+'" value="'+d[l]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+k+"</object>",o[o.length]=c.id,g=Q(c.id)}else{var m=R(b);m.setAttribute("type",f);for(var n in c)c[n]!=Object.prototype[n]&&("styleclass"==n.toLowerCase()?m.setAttribute("class",c[n]):"classid"!=n.toLowerCase()&&m.setAttribute(n,c[n]));for(var p in d)d[p]!=Object.prototype[p]&&"movie"!=p.toLowerCase()&&N(m,p,d[p]);h.parentNode.replaceChild(m,h),g=m}return g}function N(a,b,c){var d=R("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function O(a){var b=Q(a);b&&"OBJECT"==b.nodeName&&(z.ie&&z.win?(b.style.display="none",function(){4==b.readyState?P(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function P(a){var b=Q(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function Q(a){var b=null;try{b=j.getElementById(a)}catch(c){}return b}function R(a){return j.createElement(a)}function S(a,b,c){a.attachEvent(b,c),p[p.length]=[a,b,c]}function T(a){var b=z.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function U(c,d,e,f){if(!z.ie||!z.mac){var g=j.getElementsByTagName("head")[0];if(g){var h=e&&"string"==typeof e?e:"screen";if(f&&(w=null,x=null),!w||x!=h){var i=R("style");i.setAttribute("type","text/css"),i.setAttribute("media",h),w=g.appendChild(i),z.ie&&z.win&&typeof j.styleSheets!=a&&j.styleSheets.length>0&&(w=j.styleSheets[j.styleSheets.length-1]),x=h}z.ie&&z.win?w&&typeof w.addRule==b&&w.addRule(c,d):w&&typeof j.createTextNode!=a&&w.appendChild(j.createTextNode(c+" {"+d+"}"))}}}function V(a,b){if(y){var c=b?"visible":"hidden";u&&Q(a)?Q(a).style.visibility=c:U("#"+a,"visibility:"+c)}}function W(b){var c=/[\\\"<>\.;]/,d=null!=c.exec(b);return d&&typeof encodeURIComponent!=a?encodeURIComponent(b):b}var q,r,s,t,w,x,a="undefined",b="object",d="Shockwave Flash",e="ShockwaveFlash.ShockwaveFlash",f="application/x-shockwave-flash",g="SWFObjectExprInst",h="onreadystatechange",i=window,j=document,k=navigator,l=!1,m=[E],n=[],o=[],p=[],u=!1,v=!1,y=!0,z=function(){var c=typeof j.getElementById!=a&&typeof j.getElementsByTagName!=a&&typeof j.createElement!=a,g=k.userAgent.toLowerCase(),h=k.platform.toLowerCase(),m=h?/win/.test(h):/win/.test(g),n=h?/mac/.test(h):/mac/.test(g),o=/webkit/.test(g)?parseFloat(g.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,p=!1,q=[0,0,0],r=null;if(typeof k.plugins!=a&&typeof k.plugins[d]==b)r=k.plugins[d].description,!r||typeof k.mimeTypes!=a&&k.mimeTypes[f]&&!k.mimeTypes[f].enabledPlugin||(l=!0,p=!1,r=r.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),q[0]=parseInt(r.replace(/^(.*)\..*$/,"$1"),10),q[1]=parseInt(r.replace(/^.*\.(.*)\s.*$/,"$1"),10),q[2]=/[a-zA-Z]/.test(r)?parseInt(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof i.ActiveXObject!=a)try{var s=new ActiveXObject(e);s&&(r=s.GetVariable("$version"),r&&(p=!0,r=r.split(" ")[1].split(","),q=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)]))}catch(t){}return{w3:c,pv:q,wk:o,ie:p,win:m,mac:n}}();return function(){z.w3&&((typeof j.readyState!=a&&"complete"==j.readyState||typeof j.readyState==a&&(j.getElementsByTagName("body")[0]||j.body))&&B(),u||(typeof j.addEventListener!=a&&j.addEventListener("DOMContentLoaded",B,!1),z.ie&&z.win&&(j.attachEvent(h,function(){"complete"==j.readyState&&(j.detachEvent(h,arguments.callee),B())}),i==top&&function(){if(!u){try{j.documentElement.doScroll("left")}catch(a){return setTimeout(arguments.callee,0),void 0}B()}}()),z.wk&&function(){return u?void 0:/loaded|complete/.test(j.readyState)?(B(),void 0):(setTimeout(arguments.callee,0),void 0)}(),D(B)))}(),function(){z.ie&&z.win&&window.attachEvent("onunload",function(){for(var a=p.length,b=0;a>b;b++)p[b][0].detachEvent(p[b][1],p[b][2]);for(var d=o.length,e=0;d>e;e++)O(o[e]);for(var f in z)z[f]=null;z=null;for(var g in c)c[g]=null;c=null})}(),{registerObject:function(a,b,c,d){if(z.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,n[n.length]=e,V(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return z.w3?H(a):void 0},embedSWF:function(c,d,e,f,g,h,i,j,k,l){var m={success:!1,id:d};z.w3&&!(z.wk&&z.wk<312)&&c&&d&&e&&f&&g?(V(d,!1),C(function(){e+="",f+="";var n={};if(k&&typeof k===b)for(var o in k)n[o]=k[o];n.data=c,n.width=e,n.height=f;var p={};if(j&&typeof j===b)for(var q in j)p[q]=j[q];if(i&&typeof i===b)for(var r in i)typeof p.flashvars!=a?p.flashvars+="&"+r+"="+i[r]:p.flashvars=r+"="+i[r];if(T(g)){var s=M(n,p,d);n.id==d&&V(d,!0),m.success=!0,m.ref=s}else{if(h&&I())return n.data=h,J(n,p,d,l),void 0;V(d,!0)}l&&l(m)})):l&&l(m)},switchOffAutoHideShow:function(){y=!1},ua:z,getFlashPlayerVersion:function(){return{major:z.pv[0],minor:z.pv[1],release:z.pv[2]}},hasFlashPlayerVersion:T,createSWF:function(a,b,c){return z.w3?M(a,b,c):void 0},showExpressInstall:function(a,b,c,d){z.w3&&I()&&J(a,b,c,d)},removeSWF:function(a){z.w3&&O(a)},createCSS:function(a,b,c,d){z.w3&&U(a,b,c,d)},addDomLoadEvent:C,addLoadEvent:D,getQueryParamValue:function(a){var b=j.location.search||j.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return W(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return W(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(v){var a=Q(g);a&&q&&(a.parentNode.replaceChild(q,a),r&&(V(r,!0),z.ie&&z.win&&(q.style.display="block")),s&&s(t)),v=!1}}}}(),d=20,e=null,f=null,j=function(b){var j=b.document,k=b.localStorage,l=b.globalStorage;try{var m=b.sessionStorage}catch(n){}return this._class=function(){var n=this;this.get_local_user_cookie=function(a){void 0===n._evercookie&&(n=this);var b=n.get_vs_cookie(a);return b||(b=n.get_vs_local_storage(a)),b||(b=n.get_vs_session_storage(a)),b||(b=n.get_vs_global_storage(a)),b||(b=n.get_vs_user_data(a)),b||(b=n.get_vs_window(a)),b||(b=n.get_vs_db_storage(a)),b},this.get_remote_user_cookie=function(a,b,c){if(void 0===n._evercookie&&(n=this),void 0===c&&(c=0),0==c&&n.vs_lso(a),"undefined"==typeof VideoStepLocalLso&&c++<d)return setTimeout(function(){n.get_remote_user_cookie(a,b,c)},300),void 0;var f=n.getFromStr(a,VideoStepLocalLso);return f?(e=f,b(f),void 0):(b(f),void 0)},this.set=function(a,c){void 0===n._evercookie&&(n=this),b.VsStatCookie=c,n.set_vs_cookie(a,c);try{vsMainLoader.start()}catch(d){}try{vsUserCookie.start()}catch(d){}n.set_vs_window(a,c),n.set_vs_local_storage(a,c),n.set_vs_session_storage(a,c),n.set_vs_global_storage(a,c),n.set_vs_user_data(a,c),n.set_vs_db_storage(a,c),e||n.vs_lso(a,c)},this.set_vs_window=function(a,c){try{b.name=g(b.name,a,c)}catch(d){console.log(d.message)}},this.get_vs_window=function(a){var c=null;try{c=this.getFromStr(a,b.name)}catch(d){console.log(d.message)}return c},this.set_vs_user_data=function(a,b){try{var c=this.createElem("div","videostep_userdata_el",1);c.style.behavior="url(#default#userData)",c.setAttribute(a,b),c.save(a)}catch(d){}},this.get_vs_user_data=function(a){var b=null;try{var c=this.createElem("div","videostep_userdata_el",1);c.style.behavior="url(#default#userData)",c.load(a),b=c.getAttribute(a)}catch(d){}return b},this.vs_lso=function(b,d){var e=!1;try{var f=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");f&&(e=!0)}catch(g){void 0!=navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}if(0!=e){if(void 0!==d&&"undefined"!=d&&vsswf)return vs_write_flash_cookie(d),void 0;var h=j.getElementById("vs_swfcontainer"),i={},k={},l={};null!==h&&void 0!==h&&h.length||(h=j.createElement("div"),h.setAttribute("id","vs_swfcontainer"),j.body.appendChild(h));var m=a+"RefreshUserId";void 0!==d&&"undefined"!=d&&(i.everdata=b+"="+d,m+="/"+d),k.swliveconnect="true",k.AllowScriptAccess="always",l.id="vsswf",l.name="vsswf",c.embedSWF(m,"vs_swfcontainer","1","1","9.0.0",!1,i,k,l,set_vsswf_reference)}},this.set_vs_local_storage=function(a,b){try{k&&k.setItem(a,b)}catch(c){console.log(c.message)}},this.get_vs_local_storage=function(a){var b=null;try{k&&(b=k.getItem(a))}catch(c){console.log(c.message)}return b},this.set_vs_db_storage=function(a,c){try{if(b.openDatabase){var d=b.openDatabase("sqlite_vsevercookie","","evercookie",1048576);d.transaction(function(b){b.executeSql("CREATE TABLE IF NOT EXISTS cache(id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, value TEXT NOT NULL, UNIQUE (name))",[],function(){},function(){}),b.executeSql("INSERT OR REPLACE INTO cache(name, value) VALUES(?, ?)",[a,c],function(){},function(){})})}}catch(e){console.log(e.message)}},this.get_vs_db_storage=function(a){try{var c=null;if(b.openDatabase){var d=b.openDatabase("sqlite_vsevercookie","","evercookie",1048576);d.transaction(function(b){b.executeSql("SELECT value FROM cache WHERE name=?",[a],function(a,b){b.rows.length>=1&&(c=b.rows.item(0).value)},function(){})})}}catch(e){console.log(e.message)}return c},this.set_vs_session_storage=function(a,b){try{m&&m.setItem(a,b)}catch(c){console.log(c.message)}},this.get_vs_session_storage=function(a){var b=null;try{m&&(b=m.getItem(a))}catch(c){console.log(c.message)}return b},this.set_vs_global_storage=function(a,b){if(l){var c=this.getHost();try{l[c][a]=b}catch(d){console.log(d.message)}}},this.get_vs_global_storage=function(a){if(!l)return null;var b=null,c=this.getHost();try{b=l[c][a]}catch(d){console.log(d.message)}return b},this.createElem=function(a,b,c){var d;return d=void 0!==b&&j.getElementById(b)?j.getElementById(b):j.createElement(a),d.style.visibility="hidden",d.style.position="absolute",b&&d.setAttribute("id",b),c&&j.body.appendChild(d),d},this.set_vs_cookie=function(a,b){h(a,b,85)},this.get_vs_cookie=function(a){return i(a)},this.getFromStr=function(a,b){if("string"!=typeof b)return null;var e,f,c=a+"=",d=b.split(/[;&]/);for(e=0;e<d.length;e++){for(f=d[e];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(c))return f.substring(c.length,f.length)}return null},this.getHost=function(){return b.location.host.replace(/:\d+/,"")},this.request_user_id=function(b){try{var c=a+"GetUserId";vsJsonp.get(c,null,function(a){if(null!=a&&a.Data.results){var c=a.Data.results;f=c,b(c)}})}catch(d){console.log("error getting user id: "+d.message)}},this.set_remote_cookie=function(b,c){try{if(null!=f)return;if(!c||"undefined"==c)return;var d=a+"SetUserId/"+c;vsJsonp.get(d,null,function(){})}catch(e){console.log("error getting user id: "+e.message)}}},this._class}(window),k=new j,l=k.get_local_user_cookie(b);l&&"undefined"!=l?k.set(b,l):k.get_remote_user_cookie(b,function(a){a?k.set(b,a):k.request_user_id(function(a){k.set(b,a)})})}();